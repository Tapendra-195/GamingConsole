#include "../include/font.h"

struct Font
{
  char character;
  uint32_t font;
};


//Copy of this font https://fontstruct.com/fontstructions/show/521592/px_5x6_1
//modified J and g(g and $ can't fit)j, t.
const Font fonts[] PROGMEM = {
  {'A', 0b00011101000111111100011000110001},
  {'B', 0b00111101000111110100011000111110},
  {'C', 0b00011111000010000100001000001111},
  {'D', 0b00111101000110001100011000111110},
  {'E', 0b00111111000011110100001000011111},
  {'F', 0b00111111000011110100001000010000},
  {'G', 0b00011111000010111100011000101110},
  {'H', 0b00100011000111111100011000110001},
  {'I', 0b00011100010000100001000010001110},
  {'J', 0b00001110001000010000101001001100},
  {'K', 0b00100011001010100110101000110001},
  {'L', 0b00100001000010000100001000011111},
  {'M', 0b00100011101110101100011000110001},
  {'N', 0b00100011100110101100111000110001},
  {'O', 0b00011101000110001100011000101110},
  {'P', 0b00111101000111110100001000010000},
  {'Q', 0b00011101000110001101011001001101},
  {'R', 0b00111101000111110100011000110001},
  {'S', 0b00011111000001110000010000111110},
  {'T', 0b00111110010000100001000010000100},
  {'U', 0b00100011000110001100011000101110},
  {'V', 0b00100011000110001010100101000100},
  {'W', 0b00100011000110101101011010101010},
  {'X', 0b00100010101000100010101000110001},
  {'Y', 0b00100010101000100001000010000100},
  {'Z', 0b00111110001000100010001000011111},
  {'a', 0b00000000111000001011111000101111},
  {'b', 0b00100001111010001100011000111110},
  {'c', 0b00000000111110000100001000001111}, 
  {'d', 0b00000010111110001100011000101111},
  {'e', 0b00000000111010001111111000001110}, 
  {'f', 0b00001110100011110010000100001000},
  {'g', 0b00000000111110001011110000101110},
  {'h', 0b00100001111010001100011000110001},
  {'i', 0b00001000000000100001000010000100},
  {'j', 0b00000010000000001000010100100110},
  {'k', 0b00100001000110010101001101010001},
  {'l', 0b00001000010000100001000010000010},
  {'m', 0b00000001101010101101011010110101},
  {'n', 0b00000001111010001100011000110001},
  {'o', 0b00000000111010001100011000101110},
  {'p', 0b00000001111010001100011111010000},
  {'q', 0b00000000111110001100010111100001},
  {'r', 0b00000001011111000100001000010000},
  {'s', 0b00000000111110000011100000111110},
  {'t', 0b00010001111001000010000100100110},
  {'u', 0b00000001000110001100011000101111},
  {'v', 0b00000001000110001010100101000100},
  {'w', 0b00000001010110101101011010101010},
  {'x', 0b00000001000101010001000101010001},
  {'y', 0b00000001000110001011110000101110},
  {'z', 0b00000001111100010001000100011111},
  {'0', 0b00011101000110001100011000101110},
  {'1', 0b00001000110000100001000010001110},
  {'2', 0b00111100000100010001000100011111},
  {'3', 0b00111100000100110000010000111110},
  {'4', 0b00100101001011111000100001000010},
  {'5', 0b00111111000011110000010000111110},
  {'6', 0b00011111000011110100011000101110},
  {'7', 0b00111110000100010000100010000100},
  {'8', 0b00011101000101110100011000101110},
  {'9', 0b00011101000101111000010000111110},
  {'.', 0b00000000000000000000000000000100},
  {',', 0b00000000000000000000000010000100},
  {'"', 0b00010100101000000000000000000000},
  {'\'', 0b00001000010000000000000000000000},
  {'?', 0b00111100000100010001000000000100},
  {'!', 0b00001000010000100001000000000100},
  {'@', 0b00011101001110101100111000001110},
  {'_', 0b00000000000000000000000000011111},
  {'*', 0b00010100010001010000000000000000},
  {'#', 0b00010101111101010010101111101010},
  {'$', 0b00001000111110100011100010111110},
  {'%', 0b00110011101000100001000101110011},
  {'&', 0b00010001010001000101011001001101},
  {'+', 0b00000000010000100111110010000100},
  {'-', 0b00000000000000000111110000000000},
  {'/', 0b00000100001000100001000100001000},
  {':', 0b00000000010000000000000010000000},
  {';', 0b00000000010000000000000010000100},
  {'<', 0b00000000001101100100000110000011},
  {'=', 0b00000000000011111000001111100000},
  {'>', 0b00000001100000110000010011011000},
  {'[', 0b00110001000010000100001000011000},
  {'\/', 0b00010000100000100001000001000010}, //Complains about '\'
  {']', 0b00000110000100001000010000100011},
  {'^', 0b00001000101001010000000000000000},
  {'(', 0b00000100010001100001000010000010},
  {'|', 0b00001000010000100001000010000100},
  {')', 0b00010000010000110001000010001000},
  {' ', 0b00000000000000000000000000000000}
};


uint32_t getFont(char c)
{
  uint32_t f = 0;

  for(int i=0; i<ARRAY_LEN(fonts); i++)
  {
    Font alpha;
    memcpy_P(&alpha, &fonts[i], sizeof(Font));
    if(c == alpha.character)
    {
      f = alpha.font;
      break;
    }

  }

  return f;
}


char getCharAt(int i)
{
  //i = i % 91;//ARRAY_LEN(ctrs); //Array len doesn't work properly wrong size for some reason. % operator doesn't work right
  Font c;
  memcpy_P(&c, &fonts[i], sizeof(Font));
  
  return c.character;
}
